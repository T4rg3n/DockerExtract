# Docker Image Utility

A utility script to assist extracting Docker Images from compose files.
Especially useful while installing Docker images on a remote server without internet access/Docker Hub.

## Prerequisites

Make sure you have Docker, Docker Compose and Python installed on your system.

You will also need Docker to be installed on the remote server if already not. Here's how to install Docker on Linux systems without internet access :

1. Download the Docker `.deb` files for your distro here : https://download.docker.com/linux/
    -  You'll need :
       -  containerd.io
       -  docker-ce
       -  docker-ce-cli
       -  docker-compose
       -  docker buildx
2. Copy the `.deb` files to the remote server.
3. Install Docker using `sudo dpkg -i *.deb` in the folder where the `.deb` files are located.
4. Download the Docker Compose binaries for your distro here : https://github.com/docker/compose/releases  
5.  Install Docker Compose with the following documentation https://docs.docker.com/compose/install/linux/#install-the-plugin-manually
6. Check if the `docker-compose` package is executable using `docker-compose version`

Here's additional documentation on installing Docker on Linux systems without internet access : https://docs.cyberwatch.fr/deploy/en/latest/offline/swarm/install_docker.html

## Usage

1. Clone this repository or download the `docker_extract.py` script.
2. Copy your `docker-compose.yml` file containing the images you want to extract in the same folder as the script.
3. Run the script using `python docker_extract.py`.
4. Copy the extracted `.tar` files to your remote server.
5. Copy the command generated by the script and execute it in the folder where you dropped the `.tar`.
6. Enjoy your images on the remote server.

The utility performs the following tasks:

1. **Start Checks:** Verifies the system's Docker configuration and performs various checks.
2. **Load Docker Compose YAML:** Loads the `docker-compose.yml` file you submit from the same directory as the script.
3. **Pull Images:** Offers the option to pull Docker images listed in the `docker-compose.yml` file.
4. **Extract Images to Tar Files:** Provides the option to extract Docker images to `.tar` files in the `images` directory.
5. **Generate Load Command:** Offers the option to generate a command for loading the extracted `.tar` files.

## License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.
